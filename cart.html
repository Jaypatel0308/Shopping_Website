<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<title>
			Cart - Prac9
		</title>
		
		<link rel="icon" href="logo.png">
		<link rel="stylesheet" href="Prac9.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/fontawesome.min.css">
		
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
		<script>
		function Address()
		{
			var name=document.getElementById("name").value;
			if(name=="") 
			{
				document.getElementById("NameWarning").innerHTML="Note: **Empty Name not allowed";
				return false;
			}
			else 
			{
				var i;
				for(i in name)
				{
					if((name[i]>='a' && name[i]<='z') || (name[i]>='A' && name[i]<='Z') || name[i]==' ')
					{
						document.getElementById("NameWarning").innerHTML="";
					}
					else
					{
						document.getElementById("NameWarning").innerHTML="Note: **Name accepts only alphabets";
						return false;
					}
				}
			}
			
			var email=document.getElementById("loginmail").value;
			var mail="";
			var value=0;
			for(i=0; i<8; i++) 
			{
				if(i!=2 && i!=3 && i!=4)
				{
					if(email[i]>='0' && email[i]<='9')
					{
						mail+=email[i];
					}
					else
					{
						document.getElementById("LoginMailWarning").innerHTML="Note: **Invalid Nirma University E-mail id";
						return false;		
					}
				}
				else
				{
					if(email[i]>='a' && email[i]<='z')
					{
						mail+=email[i];
					}					
					else
					{
						document.getElementById("LoginMailWarning").innerHTML="Note: **Invalid Nirma University E-mail id";
						return false;	
					}
				}		
			}
			if(email!= mail+"@nirmauni.ac.in")
			{
				document.getElementById("LoginMailWarning").innerHTML="Note: **Invalid Nirma University E-mail id";
				return false;
			}
			else
			{
				document.getElementById("LoginMailWarning").innerHTML="";
			}
			
			var pass=document.getElementById("loginpwd").value;
			if (pass.length<8)
			{
				document.getElementById("LoginPWDWarning").innerHTML="Note: **Password should contain minimum 8 characters";
				return false;
			}
			else
			{
				var a=b=c=0;
				for(i in pass)
				{
					if(pass[i]>='a' && pass[i]<='z')
					{
						a=1;
					}
					else if(pass[i]>='A' && pass[i]<='Z')
					{
						b=1;
					}
					else if(pass[i]>='0' && pass[i]<='9')
					{
						c=1;
					}
				}
				if(a!=1 || b!=1 || c!=1)
				{
					document.getElementById("LoginPWDWarning").innerHTML="Note: **Password should contain uppercase, lowercase and digit";
					return false;
				}
				else
				{
					document.getElementById("LoginPWDWarning").innerHTML="";			
				}
			}
			
			address=document.getElementById("address").value;
			if(address=="")
			{
				document.getElementById("AddressWarning").innerHTML="Note: **Invalid Address";
				return false;
			}
			if(address!="")
			{
				document.getElementById("AddressWarning").innerHTML="";
			}

			num=document.getElementById("num").value;
			if(num>=7000000000 && num<=9999999999)
			{
				
			}
			else
			{
				document.getElementById("ContactWarning").innerHTML="Note: **Enter valid contact number";
				return false;
			}
		}
		</script>
	</head>
	
	<body ng-app="App" ng-controller="testController">
		<div class="container">
			<div class="navbar">
				<div class="logo">
					<img src="logo.png" alt="Logo" width="125px">
				</div>
				
				<nav>
					<ul id="menuitems">
						<li><a href="index.html">Home</a></li>
						<li><a href="products.html">Products</a></li>
						<li><a href="">About</a></li>
						<li><a href="">Contact</a></li>
						<li><a href="account.html"><img src="user.png"></a></li>
						<li><a href="cart.html"><img src="cart.png" width="30px height="30px"></a></li>
					</ul>
				</nav>
			</div>
		</div>
		
		<div class="small-container order-page">
        <table>
            <tr>
                <th>Product</th>
                <th>Quantity</th>
                <th>Subtotal</th>
            </tr>
            
			<tr class="prod">
                <td>
                    <div class="order-info">
                        <img src="product-1.jpg" alt="">
                        <div>
                            <p>Xiaomi Redmi Note 8</p>
                            <small>&#8377; {{price[0]}}</small> <br>
                            <a href="" ng-click="removeThis(0)">Remove</a>
                        </div>
                    </div>
                </td>
                
				<td><input type="number" min="0" value="1" ng-model = "quantity[0]"></td>
                
				<td>&#8377; {{sub(0)}}</td>
            </tr>
            
			<tr class="prod">
                <td>
                    <div class="order-info">
                        <img src="product-2.jpg" alt="">
                        <div>
                            <p>One Plus 8T</p>
                            <small>&#8377; {{price[1]}}</small> <br>
                            <a href="" ng-click="removeThis(1)">Remove</a>
                        </div>
                    </div>
                </td>
                
				<td><input type="number" min="0" value="1" ng-model = "quantity[1]"></td>
                
				<td>&#8377; {{sub(1)}}</td>
            </tr>
            
			<tr class="prod">
                <td>
                    <div class="order-info">
                        <img src="product-3.jpeg" alt="">
                        <div>
                            <p>Samsng M20</p>
                            <small>&#8377; {{price[2]}}</small> <br>
                            <a href="" ng-click="removeThis(2)">Remove</a>
                        </div>
                    </div>
                </td>
                
				<td><input type="number" min="0" value="1" ng-model = "quantity[2]"></td>
                
				<td>&#8377; {{sub(2)}}</td>
            </tr>
            
			<tr class="prod">
                <td>
                    <div class="order-info">
                        <img src="product-4.jpg" alt="">
                        <div>
                            <p>Vivo X50</p>
                            <small>&#8377; {{price[3]}}</small> <br>
                            <a href="" ng-click="removeThis(2)">Remove</a>
                        </div>
                    </div>
                </td>
                
				<td><input type="number" min="0" value="1" ng-model = "quantity[3]"></td>
                
				<td>&#8377; {{sub(3)}}</td>
            </tr>
        
		</table>
        
		<div class="total">
            <table>
                <tr>
					<td></td>
					<td></td>
                    <td>Net Payable Amount</td>
                    <td>&#8377; {{finalSub()}}</td>
                </tr>
            </table>
        </div>

    </div>
	<br><br>
		
		<script>
		angular.module('App', [])
		.controller('testController', [
		'$scope',
		function($scope)
		{
			$scope.price=[12899, 41999, 22399, 28599];
			$scope.quantity=[0,0,0,0];
			$scope.finalsub=0;
			$scope.sub=function(a)
			{
				return $scope.quantity[a] * $scope.price[a];
			}
			$scope.finalSub=function()
			{
				$scope.finalsub=$scope.quantity[0] * $scope.price[0] + $scope.quantity[1] * $scope.price[1] + $scope.quantity[2] * $scope.price[2] + $scope.quantity[3] * $scope.price[3];
				return $scope.finalsub;
			}
			$scope.removeThis=function(a)
			{
				var myobj=document.getElementsByClassName("prod");
				myobj[a].remove();
				$scope.quantity[a]=0;
			}
		}]);
		
		</script>
		
		<center>
			<form id="LoginForm" action="index.html" class="address">
				<h2 style="color: #ff523b">Shipping Details</h2>
				<input type="text" id="name" placeholder="Username">
				<span id="NameWarning" class="Warning"></span><br>
				<input type="text" id="loginmail" placeholder="Mail ID">
				<span id="LoginMailWarning" class="Warning"></span><br>
				<input type="password" id="loginpwd" placeholder="Password">
				<span id="LoginPWDWarning" class="Warning"></span><br>
				<input type="text" id="address" placeholder="Address">
				<span id="AddressWarning" class="Warning"></span><br>
				<input type="number" id="num" placeholder="Contact Number" maxlength="10">
				<span id="ContactWarning" class="Warning"></span><br>
				<button type="submit" class="btn" onclick="return Address()" style="width: 250px;">Proceed to Payment</button>
			</form>
		</center>
		
		<div class="footer">
			<div class="container">
				<div class="row">
					<div class="footer-col-1">
						<h3>Download our app</h3>
						<p>Download App from android and ios mobile phone.</p>
						<div class="app-logo">
							<img src="play-store.png">
							<img src="app-store.png">
						</div>
					</div>
				</div>
				<hr>
				<p class="copyright">Copyright 2021-Thugle</p>
			</div>
		</div>
		
	</body>
</html>